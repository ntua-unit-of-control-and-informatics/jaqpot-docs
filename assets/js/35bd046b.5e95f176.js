"use strict";(self.webpackChunkeuclia_docs=self.webpackChunkeuclia_docs||[]).push([[330],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>h});var o=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function r(e,t){if(null==e)return{};var a,o,n=function(e,t){if(null==e)return{};var a,o,n={},i=Object.keys(e);for(o=0;o<i.length;o++)a=i[o],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)a=i[o],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var p=o.createContext({}),s=function(e){var t=o.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},d=function(e){var t=s(e.components);return o.createElement(p.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,p=e.parentName,d=r(e,["components","mdxType","originalType","parentName"]),c=s(a),m=n,h=c["".concat(p,".").concat(m)]||c[m]||u[m]||i;return a?o.createElement(h,l(l({ref:t},d),{},{components:a})):o.createElement(h,l({ref:t},d))}));function h(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,l=new Array(i);l[0]=m;var r={};for(var p in t)hasOwnProperty.call(t,p)&&(r[p]=t[p]);r.originalType=e,r[c]="string"==typeof e?e:n,l[1]=r;for(var s=2;s<i;s++)l[s]=a[s];return o.createElement.apply(null,l)}return o.createElement.apply(null,a)}m.displayName="MDXCreateElement"},9769:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>r,toc:()=>s});var o=a(7462),n=(a(7294),a(3905));const i={id:"xgboost",title:"Deploy your XGBoost models",sidebar_label:"XGBoost models",keywords:["jaqpot","deploy machine learning models","API","models","integrate models","deploy xgboost models"]},l=void 0,r={unversionedId:"xgboost",id:"xgboost",title:"Deploy your XGBoost models",description:"Welcome to jaqpotpy documentation",source:"@site/docs/xgboost.md",sourceDirName:".",slug:"/xgboost",permalink:"/jaqpot-docs/docs/xgboost",draft:!1,tags:[],version:"current",frontMatter:{id:"xgboost",title:"Deploy your XGBoost models",sidebar_label:"XGBoost models",keywords:["jaqpot","deploy machine learning models","API","models","integrate models","deploy xgboost models"]},sidebar:"someSidebar",previous:{title:"sklearn models",permalink:"/jaqpot-docs/docs/sklearn"},next:{title:"R models",permalink:"/jaqpot-docs/docs/r"}},p={},s=[{value:"Welcome to jaqpotpy documentation",id:"welcome-to-jaqpotpy-documentation",level:2},{value:"About",id:"about",level:3},{value:"Contact",id:"contact",level:3},{value:"Install",id:"install",level:2},{value:"Install jaqpotpy",id:"install-jaqpotpy",level:3},{value:"Usage and initialization",id:"usage-and-initialization",level:2},{value:"Import Jaqpot",id:"import-jaqpot",level:3},{value:"Initialize jaqpot",id:"initialize-jaqpot",level:3},{value:"Let jaqpot know who you are",id:"let-jaqpot-know-who-you-are",level:3},{value:"Set Key without login",id:"set-key-without-login",level:3},{value:"Get the key from user interface",id:"get-the-key-from-user-interface",level:4},{value:"Deploy your models",id:"deploy-your-models",level:2},{value:"Model training and deployment",id:"model-training-and-deployment",level:3},{value:"Model training and deployment with Domain of applicability",id:"model-training-and-deployment-with-domain-of-applicability",level:3}],d={toc:s},c="wrapper";function u(e){let{components:t,...i}=e;return(0,n.kt)(c,(0,o.Z)({},d,i,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"welcome-to-jaqpotpy-documentation"},"Welcome to jaqpotpy documentation"),(0,n.kt)("h3",{id:"about"},"About"),(0,n.kt)("p",null,"jaqpotpy is a library that lets you deploy and share seemingless easy machine learning and statistal models developed with ",(0,n.kt)("a",{parentName:"p",href:"https://xgboost.readthedocs.io/en/latest/"},"XGBoost")," over the web."),(0,n.kt)("p",null,"It is created by the ",(0,n.kt)("a",{parentName:"p",href:"https://www.chemeng.ntua.gr/labs/control_lab/"},"Unit of Process Control and Informatics in the School of Chemical Engineering")," at the National Technical University of Athens and supported by ",(0,n.kt)("a",{parentName:"p",href:"https://www.euclia.xyz"},"Euclia"),"."),(0,n.kt)("h3",{id:"contact"},"Contact"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"mailto:contact@euclia.xyz"},"contact@euclia.xyz")),(0,n.kt)("h2",{id:"install"},"Install"),(0,n.kt)("h3",{id:"install-jaqpotpy"},"Install jaqpotpy"),(0,n.kt)("p",null,"Jaqpotpy can be installed as a pypi package."),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"pip install jaqpotpy")," "),(0,n.kt)("h2",{id:"usage-and-initialization"},"Usage and initialization"),(0,n.kt)("h3",{id:"import-jaqpot"},"Import Jaqpot"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"from jaqpotpy import Jaqpot")),(0,n.kt)("h3",{id:"initialize-jaqpot"},"Initialize jaqpot"),(0,n.kt)("p",null,"Jaqpot API and services are available at the base path ",(0,n.kt)("strong",{parentName:"p"},(0,n.kt)("a",{parentName:"strong",href:"https://api.jaqpot.org/jaqpot/services/"},"https://api.jaqpot.org/jaqpot/services/"))," "),(0,n.kt)("p",null,"Swagger and OpenAPI definition of the API can be found at ",(0,n.kt)("strong",{parentName:"p"},(0,n.kt)("a",{parentName:"strong",href:"https://api.jaqpot.org/jaqpot/swagger/"},"https://api.jaqpot.org/jaqpot/swagger/"))," "),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"jaqpot = Jaqpot()"),"  initializes jaqpot upon the standard available API that\nis integrated with the application and user interface at ",(0,n.kt)("strong",{parentName:"p"},(0,n.kt)("a",{parentName:"strong",href:"https://app.jaqpot.org/"},"https://app.jaqpot.org/"))," ."),(0,n.kt)("p",null,"Alternative installations can be used. If so jaqpotpy and jaqpot should be initialized to the base url of the installation\n",(0,n.kt)("strong",{parentName:"p"},"etc:")," ",(0,n.kt)("inlineCode",{parentName:"p"},'jaqpot = Jaqpot("https://api.jaqpot.org/jaqpot/services/")')),(0,n.kt)("h3",{id:"let-jaqpot-know-who-you-are"},"Let jaqpot know who you are"),(0,n.kt)("p",null,"Login and have access on the jaqpot services"),(0,n.kt)("p",null,"In order to do so you can use the functions:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"jaqpot.login('username', 'password')"))),(0,n.kt)("p",null,"Will login and set the api key that is needed."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"jaqpot.request_key('username', 'password')"))),(0,n.kt)("p",null,"Same as above you request the key and set it on jaqpot"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"jaqpot.request_key_safe()"))),(0,n.kt)("p",null,"Will ask the user for the username and password by hidding the password if\njaqpot is used through a jupiter notebook etc"),(0,n.kt)("h3",{id:"set-key-without-login"},"Set Key without login"),(0,n.kt)("p",null,"Some users may have logged in through google or github. At the account page\na user can find an api key that can be used in order to have access on the services.\nThese keys have short life and should be updated on each login."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},'jaqpot.set_api_key("api_key")'))),(0,n.kt)("h4",{id:"get-the-key-from-user-interface"},"Get the key from user interface"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Get key",src:a(95).Z,width:"633",height:"308"})),(0,n.kt)("p",null,"The API key can be retrieved from the user interface. It will download a text file that contains the API key."),(0,n.kt)("h2",{id:"deploy-your-models"},"Deploy your models"),(0,n.kt)("p",null,"Once initialized the XGBoost models can then be deployed!"),(0,n.kt)("p",null,"Bellow you can download a sample dataset that contains the ",(0,n.kt)("strong",{parentName:"p"},"name of the country (ountry)")," ,  ",(0,n.kt)("strong",{parentName:"p"},"Gross domestic product (GDP)"),", ",(0,n.kt)("strong",{parentName:"p"},"labor force growth (LFG)"),",\n",(0,n.kt)("strong",{parentName:"p"},"equipment investment (EQP)"),", ",(0,n.kt)("strong",{parentName:"p"},"nonequipment investment (NEQ)")," and ",(0,n.kt)("strong",{parentName:"p"},"relative GDP gap (GAP)")),(0,n.kt)("p",null,"Task:"),(0,n.kt)("p",null,"Model the GDP. Pay attention to the diagnostics and suitability of your final model."),(0,n.kt)("a",{target:"_blank",href:"./assets/gdp-countries.csv",download:"gdp.csv"},"Download sample dataset"),(0,n.kt)("h3",{id:"model-training-and-deployment"},"Model training and deployment"),(0,n.kt)("p",null,"An example code that demonstrates a model deployemnt."),(0,n.kt)("admonition",{type:"caution"},(0,n.kt)("p",{parentName:"admonition"},"Warning! One of the things that may differ from simpler training and validation routes is that you need to train your model with a pandas dataframe as input and not with Numpy arrays!")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"from jaqpotpy import Jaqpot\nimport pandas as pd\nfrom xgb import XGBoostRegressor\n\n\ndf = pd.read_csv('/path/to/gdp.csv')\nreg = XGBoostRegressor()\n\ny = df['GDP']\nX = df[['LFG', 'EQP', 'NEQ', 'GAP']]\n\nmodel = reg.fit(X=X, y=y)\n\njaqpot.deploy_xgboost(model, X, y, title=\"Title\", description=\"Describe\")\n")),(0,n.kt)("p",null,"The function will inform you about the model id that is created and is available through the user interface and the API."),(0,n.kt)("admonition",{title:"Result",type:"info"},(0,n.kt)("ul",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ul"},"INFO - Model with id: <model_id> created. Visit the application to proceed"))),(0,n.kt)("h3",{id:"model-training-and-deployment-with-domain-of-applicability"},"Model training and deployment with Domain of applicability"),(0,n.kt)("p",null,"Domain of applicability contains knowledge or information on which the training set of the model has been developed, and for which it is applicable to make predictions for new instances."),(0,n.kt)("a",{target:"_blank",href:"https://en.wikipedia.org/wiki/Applicability_domain"},"About applicability domain"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"from jaqpotpy import Jaqpot\nimport pandas as pd\nfrom xgb import XGBoostRegressor\n\n\ndf = pd.read_csv('/path/to/gdp.csv')\nreg = XGBoostRegressor()\n\ny = df['GDP']\nX = df[['LFG', 'EQP', 'NEQ', 'GAP']]\n\nmodel = reg.fit(X=X, y=y)\n\njaqpot.deploy_xgboost(model, X, y, title=\"Title\", description=\"Describe\", doa=X)\n\n")),(0,n.kt)("admonition",{title:"Result",type:"info"},(0,n.kt)("ul",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ul"},"INFO - Model with id: <model_id> created. Storing Domain of applicability"),(0,n.kt)("li",{parentName:"ul"},"INFO - Stored Domain of applicability. Visit the application to proceed"))))}u.isMDXComponent=!0},95:(e,t,a)=>{a.d(t,{Z:()=>o});const o=a.p+"assets/images/getkey-b24fa31a9fc7c197d966c5f7808c4ad2.png"}}]);